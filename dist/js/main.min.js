const boxes=Array.from(document.querySelectorAll(".accordion__label"));function boxHandler(e){e.preventDefault();let t=e.target.closest(".accordion__box"),n=e.target.nextElementSibling;t.classList.toggle("active"),t.classList.contains("active")?n.style.maxHeight=n.scrollHeight+"px":n.style.maxHeight=0}boxes.forEach((e=>{e.addEventListener("click",boxHandler)})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".scroll-item");if(e.length>0){function t(){for(let t=0;t<e.length;t++){const s=e[t],o=s.offsetHeight,i=n(s).top,r=4;let a=window.innerHeight-o/r;o>window.innerHeight&&(a=window.innerHeight-window.innerHeight/r),window.pageYOffset>i-a&&window.pageYOffset<i+o?s.classList.add("animation-class"):s.classList.contains("scroll-no-hide")||s.classList.remove("animation-class")}}function n(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+s,left:t.left+n}}window.addEventListener("scroll",t),t()}})),document.addEventListener("DOMContentLoaded",(function(){let e=document.forms;for(e of document.forms)e.addEventListener("submit",t);async function t(e){e.preventDefault();let t=function(e){let t=0,i=e.querySelectorAll("._req");for(let e=0;e<i.length;e++){const r=i[e];s(r),r.classList.contains("_email")?o(r)&&(n(r),t++):""===r.value&&(n(r),t++)}return t}(e.target),i=new FormData(e.target);if(0===t){e.target.classList.add("_sending");let t=await fetch("sendmail.php",{method:"POST",body:i});if(t.ok){let n=await t.json();alert(n.message),e.target.reset(),e.target.classList.remove("_sending")}else alert("Ошибка"),e.target.classList.remove("_sending")}else alert("Заполните обязательные поля")}function n(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function s(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function o(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}}));const burgerItem=document.querySelector(".menu-btn"),menuItem=document.querySelector(".menu-list");burgerItem.addEventListener("click",(()=>{menuItem.classList.contains("active")?(menuItem.classList.remove("active"),burgerItem.classList.remove("active")):(menuItem.classList.add("active"),burgerItem.classList.add("active"))})),menuItem.addEventListener("click",(()=>{menuItem.classList.remove("active"),burgerItem.classList.remove("active")}));
